\documentclass[main]{subfiles}

\begin{document}
% Chapter Template
\setcounter{chapter}{1}

% Evolutionary Optimization
% Basic components
%  Universe, Planets and Environments
%   Planet Physics
%  Epochs
%   Fitness functions
%  Populations
%  Creatures
%   Genotypes
%   Phenotypes
%    Constrained Rigid body model
%    Featherstone Multi-rigidbody model
%  Model organisms
% Reaper
%  Crossover
%  Mutations
% Evaluation Step
% Variation Step
\chapter{Evolutionary Optimization} % Main chapter title

\label{Chapter\thechapter} % Change X to a consecutive number; for referencing this chapter elsewhere, use \ref{ChapterX}

\lhead{Chapter \thechapter. \emph{Evolutionary Optimization}} % Change X to a consecutive number; this is for the header on each page - perhaps a shortened title

The following chapter describes the Evolutionary optimization algorithm as it is implemented in the Minemonics simulator. The Minemonics simulator is a project that was developed from scratch for this Thesis, mainly because most other simulators for evolving virtual creatures are unpublished by the research group, outdated or implement a different type of simulation than is needed for the model of this thesis.

\section{Basic components}

First, the basic components of the simulator are listed and its features are described. We describe the component tree in a top-down manner and reveal the subcomponents one-by-one. 

%-----------------------------------
%	SUBSECTION 1
%-----------------------------------
\subsection{Universe, Planets and Environments}

The simulator models its own universe. A universe contains a set of different planets, each defining a certain setting of evolutionary run. A certain planet consists of an environment, a evolution type, a number of epochs and a number of populations. 

The environment simulates a flat plane or a hill environment. It approximates the appropriate newtonian mechanical physics for the environment and the creatures that are evaluated within it. For the experiments in this thesis, the plane environment was mainly used.

\paragraph{The evolution type} defines how many creatures of the planet are evaluated at the same time and how creatures are culled, variated and sown. In the bounds of this thesis, only single creature evaluation was performed. 

\subsubsection{Planet physics}

Each environment defines the planet's physics simulation. The simulator uses the Bullet Physics engine\cite{bulletphysics} to run the physical simulation of the creatures. Bullet Physics is a numerical Classial Mechanics simulation engine, featuring rigid body as well as softbody physics. Bodies can be constrained using various types of constraints with constraint limits and motors. The constraints can be numerically solved using multiple types of solvers with different convergence speeds and accuracy of result. The most accurate results were achieved using the Featherstone Multibody solver. To date it only supports single degree of freedom joints, however this does not affect the evolutionary optimization much. A three degrees of freedom joint can easily be approximated by three one degree of freedom joints.

\subsection{Epochs}

An epoch of a certain planet models the changes of environmental factors, which induce modification of the fitness landscape on the planet. What is considered good in one epoch might not hold in another. The change of the fitness landscape usually leads to avalanches of extinctions. A certain epoch consists of a set of juries(fitness functions) and a transition condition, which when met ends the epoch and starts the next epoch.

\subsubsection{Juries}

An epoch consists of a set of juries or fitness functions. A jury collects data on a certain performance during the evaluation of a creature and finally has to rate the performance of an individual. Commonly used juries of the simulatorvare the distance travelled during the evaluation or the average height of all limbs during the evaluation. A jury additionally has a weight, which indicates the weight in the total performance of the creature, and a sorting direction, which indicates whether a higher rating is considered better or worse than a lower rating. Multiple types of juries are combined in a competitive manner among the creatures of a population. This procedure will be described in the section \ref{subsubsection:Culling} Culling of the Reaper component.

\subsection{Populations}

A population of creatures lives on a certain planet. Depending on the evolution settings, one creature, multiple creatures from a population, multiple creatures from multiple populations or multiple whole populations are evaluated at a time.

\subsection{Creatures}

\lipsum[7]

\subsubsection{Genotype}

\lipsum[8]

\subsubsection{Phenotype}

\lipsum[9]
In the simulator, two different rigid body constraint models are used. The 

\subsubsection{Constrained Rigidbody Phenotype}

\lipsum[10]

\subsubsection{Featherstone Multibody Phenotype}

\lipsum[11]

\subsubsection{Model organisms}

\lipsum[12]

\subsection{Reaper}
\label{subsection:Reaper}

\lipsum[13]

\subsubsection{Culling}
\label{subsubsection:Culling}

\lipsum[14]

\subsubsection{Crossover}

\lipsum[14]

\subsubsection{Mutations}

\lipsum[15]

\section{Evolutionary cycle}

\lipsum[16]

\subsection{Evaluation step}

\lipsum[17]

\subsection{Variation step}

\lipsum[18]

\todo[inline]{Give the Chapter 2 some meaningful content.}

\end{document}